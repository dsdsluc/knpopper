extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main
  // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng ho·∫∑c l·ªói
  +alert-success(message)
  +alert-error(message)

  .row
    .col-xl-12
      .card.mt-4
        .card-header.bg-danger.text-white
          h5 üóëÔ∏è Th√πng R√°c - ƒê∆°n H√†ng

        .card-body
          if orders.length > 0
            table.table.table-bordered.table-hover
              thead
                tr
                  th M√£ ƒê∆°n H√†ng
                  th Ng∆∞·ªùi Mua
                  th T·ªïng Ti·ªÅn
                  th Tr·∫°ng Th√°i
                  th Ng√†y C·∫≠p Nh·∫≠t
                  th T√πy Ch·ªçn
              tbody
                each order in orders
                  tr
                    td #{order._id}
                    td #{order.user_id && order.user_id.fullName ? order.user_id.fullName : 'Kh√¥ng x√°c ƒë·ªãnh'}
                    td #{order.totalPrice.toLocaleString()} VNƒê
                    td #{order.status}
                    td #{new Date(order.updatedAt).toLocaleString()}
                    td
                      form(method="POST" action=`/${prefixAdmin}/order/restore/${order._id}?_method=PATCH`)
                        button.btn.btn-sm.btn-success(type="submit") üîÑ Kh√¥i Ph·ª•c
                      form(method="POST" action=`/${prefixAdmin}/order/delete/${order._id}?_method=DELETE`)
                        button.btn.btn-sm.btn-danger(type="submit") ‚ùå X√≥a Vƒ©nh Vi·ªÖn
          else
            p.text-center Kh√¥ng c√≥ ƒë∆°n h√†ng n√†o trong th√πng r√°c.

        .card-footer.text-end
          a.btn.btn-secondary(href=`/${prefixAdmin}/order/list`) ‚¨ÖÔ∏è Quay L·∫°i Danh S√°ch ƒê∆°n H√†ng
